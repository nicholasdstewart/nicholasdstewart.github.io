<!DOCTYPE html>
<html lang="en">

<head>
  <title>Replace Me With Your Lab Page</title>
  <link rel="stylesheet" type="text/css" href="./styles.css">
  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</head>

<body>
  <div class="container">
    <div class="wrapper">
      <div class="header">Replace Me With Your Lab Page</div>
      <div class="content" id = "chartContainer">
      </div>
      <div class="footer"></div>
    </div>
  </div>
  <script>
    fetch('/api') // Rather than fetching from PG County, we're going to fetch from our own server.
      .then(res => res.json())
      .then(res => {
        
        // Listing out all of the data on the client-side:
        //console.log(res.data)

        //window.onload = function () {
              
              CanvasJS.addColorSet("customColorSet",
                  [//colorSet Array
  
                  "#74B391",
                  "#99FFC8",
                  "#FFB98D",
                  "#507CB3",
                  "#80B9FF"                
                  ]);
  
                  const chart = new CanvasJS.Chart("chartContainer", {
                    animationEnabled: true,
                    theme: 'dark2',
                    colorSet: 'customColorSet',
                    title:{
                      text: "Food Sources in PG County",
                      horizontalAlign: "left"
                    },
                    data: [{
                      type: "doughnut",
                      startAngle: 60,
                      //innerRadius: 60,
                      indexLabelFontSize: 17,
                      indexLabel: "{label} - #percent%",
                      toolTipContent: "<b>{label}:</b> {y} (#percent%)",
                      dataPoints: res.data
                    }]
                  });
                  chart.render();
  
                  //}
  
      
      })
  </script>
</body>

</html>